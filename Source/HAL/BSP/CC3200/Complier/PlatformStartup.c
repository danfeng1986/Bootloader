/*****************************************************
 * Copyright (C), 2015-2025, H&T Tech
 * File name    : PlatformStartup.c
 * Author       : Bernie Liu
 * Version      : V1.0.0
 * Date         : 2015-09-18
 * Description  : 
 * Others       : 
******************************************************/

/******************************************************
*                 includes
******************************************************/
#include "..\LIB\inc\hw_types.h"
#include "..\LIB\inc\hw_memmap.h"
#include "..\LIB\inc\hw_ints.h"
#include "..\LIB\rom.h"
#include "..\LIB\rom_map.h"
#include "..\LIB\prcm.h"
#include "..\LIB\Interrupt.h"

/******************************************************
*                 Macros
******************************************************/

/******************************************************
*                Constants
******************************************************/

/******************************************************
*               Enumerations
******************************************************/

/******************************************************
*             Type Definitions
******************************************************/

/******************************************************
*               Structures
******************************************************/

/******************************************************
*           Variables Definitions
******************************************************/
#if defined(COMPLIER_CCS)
    extern void (* const g_pfnVectors[])(void);
#elif defined(COMPLIER_EARM)
    extern __root const uVectorEntry __vector_table[256];
#endif
/******************************************************
*               Declarations
******************************************************/

/******************************************************
*               Functions
******************************************************/

/********************************************************************************/
void SysPlatformConfig(void)
/********************************************************************************/
{
#if defined(COMPLIER_CCS)
    MAP_IntVTableBaseSet((unsigned long)&g_pfnVectors[0]);
#elif defined(COMPLIER_EARM)
    MAP_IntVTableBaseSet((unsigned long)&__vector_table);
#endif
    
    /* Enable Processor */
    MAP_IntMasterEnable();
    MAP_IntEnable(FAULT_SYSTICK);

    PRCMCC3200MCUInit();
}

/********************************************************************************/
void SysPlatformReset(void)
/********************************************************************************/
{
    PRCMSOCReset();
}

